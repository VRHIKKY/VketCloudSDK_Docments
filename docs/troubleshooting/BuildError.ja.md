# ビルドエラー / ワールドが動かないときは

## ビルドエラー

![BuildError](img/BuildError.jpg)

Build And Runでブラウザが起動しますが、稀にエラーによってコンテンツが表示されない場合があります。

この原因には、いくつかのケースが考えられますが、よくある原因は以下の通りです。

|  原因 |  対策  |
| ----   | ---- |
| アバターリストが空になっている | 最低1体以上、アバターを登録してください |
| `HEOWorldSettings/BasicInfo/HeliScript`の中身が空になっている | [`None`あるいは`Missing`](../HEOComponents/HEOWorldSetting.md)となっている項目を削除してください　|
| .heoファイルの出力に失敗している | Unityのコンソールあるいは[デバッグコンソール](../debugconsole/debugconsole.md)にエラー（赤文字）が出ていないか確認してください |
| Unity側のキャッシュによる不具合 | VketCloudSDK --> Clear Cache からキャッシュをクリアしてください |
| ブラウザのキャッシュによる不具合 | 使用しているブラウザのキャッシュをクリアしてください |
| 必要なファイルが見つからない(404) | 後述の方法するエラーログから、404なファイルを確認し、Vket Cloudがサポートしないファイルなら変更してください |
| Unityプロジェクトが配置されたディレクトリ、配置されたファイル名にスペースや二バイト文字が含まれている | スペースや二バイト文字を抜いてください |

!!! caution "Mac環境における初回ビルドについて"
    お使いのMacの環境によっては、 初回のBuild and Runの際に「サーバに接続できません」の表示あるいはビルドエラーのいずれかが発生する場合があります。<br>
    本現象が発生した際はもう一度Build and Runを行うか、ブラウザの再読み込みによって不具合が解消されます。

### 変更が更新されない・ギミックが動かない場合

Unityで編集した / SDKをアップデートしたにもかかわらず、その変更がブラウザに反映されないケースがあります。<br>
多くの場合、**キャッシュが残っているため、前の内容が表示されてしまっている**ことが原因です。

|  原因 |  対策  |
| ----   | ---- |
| ブラウザにキャッシュが残っている | Ctrl + Shift + R で、スーパーリロードを実行する |

Unity側のキャッシュはSDKツールバーのVketCloudSDK > Clear Cacheを実行すると消去されます。

![VersionUpdateTroubleshooting_3](img/VersionUpdateTroubleshooting_3.jpg)

ブラウザ側のキャッシュが原因でHeliScript・ギミックが動かない場合があります。<br>
該当の現象が発生した際はブラウザのキャッシュクリアをお試しください。

![VersionUpdateTroubleshooting_4_jp](img/VersionUpdateTroubleshooting_4_jp.jpg)

### エラーログを確認する

ビルドエラーの原因を調べるには、お使いのブラウザのコンソールをチェックします。

ブラウザによって方法は異なりますが、Google Chromeの場合は、右上の三点リーダーから **その他のツール > デベロッパーツール** を開きます。

![DeveloperTool](img/DeveloperTool.jpg)

必ずしもコンソールに出ている内容が、VketCloudのビルドエラーに直結しているとは限りませんが、赤字でエラーが出ている場合はその内容がビルドエラーの原因になっている可能性があります。

![DeveloperToolConsole](img/DeveloperToolConsole.jpg)

### インポートしたライブラリを確認する
Package Managerなどからインポートしたライブラリまたはスクリプトによってエラーの原因になっている可能性があります。

このケースでは後から追加した対象のライブラリをインポートし直すことで解消される場合があります。

!!! note caution
        稀に必須パッケージであるEditorTutorialSystemが自動インポートされず、ビルドエラーの原因となる場合があるため、その際は[Package Manager](../AboutVketCloudSDK/SetupSDK_external.md)を通じて該当のパッケージを導入してください。

### デバッグコンソール / DebugModeを使用する

デバッグのためのSDKのツールとして、Unityエディタ―上ではデバッグコンソールを、ブラウザではデバッグモードを使用して問題解決ができます。
詳細はそれぞれのページをご確認ください。

[デバッグコンソール](../debugconsole/debugconsole.md)

[デバッグモード](../WorldEditingTips/DebugMode.md)

## ブラウザウィンドウが暗転したまま動かない

ワールド入場時にブラウザウィンドウが暗転したまま動かない場合は、以下の点をチェックしてみてください。

|  原因 |  対策  |
| ----   | ---- |
| ブラウザのハードウェアアクセラレーションが無効になっている | ブラウザの設定から「ハードウェアアクセラレーション」を有効にしてください |
| PCにゲームパッドが接続されている | 該当のゲームパッドの接続を切断してください |
| ビルドエラーが発生している | [ビルドエラー](./BuildError.md#build-error)の有無を確認してください |

例として、Chromeを使用している場合は設定ページの「システム」から「ハードウェアアクセラレーションが使用可能な場合は使用する」を有効にすることでワールド入場時の暗転が解消される場合があります。

![BrowserBlackWindow](./img/BrowserBlackWindow_ja.jpg)