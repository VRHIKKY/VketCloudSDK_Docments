# 13.1.0

## HeliodorLib(ブラウザで表示されるワールドで使われているエンジン)

### 機能追加調整

- カメラプレビューの余白を削除しました
- clickimagesにmoveフラグを追加し、objectに限ってClickableUIの位置を対象ノードに沿って動かせるようにしました

### バグ修正
- アイコン未設定ログインユーザーのプロフィールを確認する際、未設定のデフォルトアイコンではなく、以前選択したユーザーのアイコンが写る
- 縦画面のメニューコンテンツの背景画像を9スライスにして線が出ないように、撮影モードとコミュニティでボタンクリックで暗くする
- 撮影の説明用画像の位置を修正
- 「フォーカス解除」ボタン及び「プロフィール」ボタンが「エモートウィンドウ」よりも前面に表示される
- ユーザーをフォーカスした状態で、一度地面をクリックして移動した後で再度ユーザーをクリックすると「フォーカス解除」ボタンが消えずフォーカスモードも解除されない
- 画面をクリックしないまま放置するとマイアバターのメモリが解放されずメモリ使用量が増えていく
- 縦画面のメニューのワールドを作るボタンが1pxズレている
- ボイスチャットのユーザーアイコンの間隔が均等でなくなることがある
- カメラモードを終了するとボイスチャンネルUIの文字が消えてしまう
- チャンネルを作成していないユーザーのチャンネル設定ボタンがなくなっている
- 縦画面で「Create new channel」の文字が不自然な位置で改行されている
- インゲーム遷移時のavatarタイプに紐づくエモート一覧を正しく取得せず、すべてavatarタイプ：Commonとして取得している
- エモートの「＋」ボタンを押してもエモートAPIが実行されていない
- エモートをnullにしているとインデックス0が割当たる(エンバグ)
- initial_emotesシートに設定されてるエモートが初期設定されていない
- アクションパレットのエモートが4つ未満の状態でリロードをするとアクションパレットが4つに戻る
- インゲームからログインすると、今居るワールド詳細の「いいね」ボタンが非活性化状態のままで押せない
- バーチャルパッド操作中は他のボタンが効かなくなっている
- テキストチャットのスライダーハンドル差替
- 空間チャット側のテキストチャット縦画面1段階目表示削除対応
- テキストチャットの縦画面1段階目の表示削除
- 縦画面・テキストチャット閉じるボタンを大きく変更、テキストチャット用のスライダー画像差し替え、縦画面・テキストチャットの背景画像を差し替え
- 汎用通知にURLが設定してあると、リロードした時に通知ウィンドウよりURLが先に描画される
- ゲスト時にマイアバターのタブを確認すると、四隅の縁がはみ出ているように見える
- 縦画面でエモートを設定する際、「ヲタ芸」「ビール」にチェックマークがつかない
- 「エモートアクション選択」を表示した状態でエモートボタンを押すと「エモートアクション選択」のみが表示された状態になる
- コミュニティ画面で相互フォロー状態のユーザーに「同じチャンネルにいます」と表示されていると相互フォローアイコンが消える
- 友達招待ウィンドウを開いた後で「スタート地点に戻る」を押すとそれぞれのUIが被ってしまう
- Windows以外の端末で文字数が多いと空間チャット吹き出しから文字がはみ出る
- スマホ端末でUIボタンを押下してもボタンが暗くならない
- トーストメッセージの消え方が縦画面と横画面が異なる
- 縦画面の時、テキストチャンネルを開いた後、ボイスチャンネルを開くとUIが被る
- テキストチャットとアクションリストが被らないようにしました
- 縦画面のhudでボイスチャットの遅延ロードが抜けていた
- 自己紹介のはみ出し
- 縦画面で新規チャンネル作成の際、オープンチャンネルの説明が不自然な位置で改行されている
- マイアバター名を左詰めにしました
- 縦画面表示にした際、エモート一覧の「ヲタ芸」と「ビール」のエモートアイコンが表示されていない
- ターゲットフォーカス中でもhud_configが表示されるようにしました
- サイドメニューのボタンを押したときにターゲットフォーカスが解除されるようにしました
- キック・バン・ブロック後にターゲットフォーカスを解除するようにしました
- スタート地点にワープしたときはターゲットフォーカスを解除するようにしました
- プレイヤーが退出していてCSkywayPlayerが取得できなかった時はフォーカスを解除するようにしました
- 縦画面でターゲットフォーカスをすると視点変更ボタンが消えない
- ダミーアバター(インスタンス)にターゲットフォーカスするとカメラがワールドの原点を向く
- HSのPlayer_GetPosにてプレイヤーが距離カットされたインスタンスの時でも正常に座標が取れるようにしました
- 任意の場所クリックでのフォーカス解除をオミットしました
- ターゲット解除ボタンを追加/右上の解除ボタンをオミット
- エモート一覧のエモート名を2行入るように修正
- [script] Item.PlayVideoSyncTime()で渡したBaseTimeが、JS側で異常な値になってしまう問題を修正
- メニューから友達招待タブを開いた際、撮影ボタンをタップし、撮影モードに入ると友達招待のボタンが画面に残る
- 縦画面のプロフィールアイコンが右に少しずれている
- ボタンクリック時の色変更の漏れ
- タッチにおいても、ボタンの外をタッチしてからボタンの中に指を動かして離してもボタンが効かないようにする
- ゲストログイン時の通知受け取りID指定が間違っていたため修正
- MENU＞アバター＞カメラと操作し別タブに切り替えると、ログインウィンドウの一部だけ表示される
- メニューウインドウを開いてからカメラモードを起動するとエモートボタンが消えてしまう
- 撮影モードを有効にした際に、チャットプレビューの文字が残っている
- embed.htmlをshare.htmlに変更/X埋め込み用のリンクコピーボタンを変更
- ワールド詳細の製作者を開くとUIが被ってしまうため、Z値を調整しました。
- ワールド詳細に記載がないが、実際のロード画面に ""デバッグワールド"" という記載ある不具合をワールド詳細テキストのZ値調整して修正いたしました。
- ボイスチャットのユーザースクロールが一度だけスクロールした後動かなくなる
- 友達招待を他のメニューコンテンツと同じように開くように修正、TwitterアイコンをXアイコンに差し替え
- プロフィールにて名前変更を行った際に通知モーダルが開く不具合を修正しました。
- ゲストログイン時に入室ボタンを押した後に、通知モーダルが開くように修正しました。
- プロフィール画面のユーザー名変更・自己紹介更新時にNGワードが含まれていたら以前の文言に戻すよう修正
- 端末ごとでネームプレートサイズが変わる文字数が異なっており、表示できる文字数も異なるのを修正
- ReflectionProveDetectTypeをReflectionProbeDetectTypeにリネームしました
- HEOノード単位の透過アニメーションの初期値をCpp内部でもfalseにしました
- エモート一覧をページ送りした状態で閉じ、再表示すると１ページ目と２ページ目が混合した内容になってしまう
- ブラウザを英語表示にしても「投稿を空間に残す」が日本語のままになっている不具合を修正
- カメラモードの操作説明と矢印の表示順の不具合を修正いたしました。
- チャット欄のスクロールバーの表示がズレているのを修正
- ユーザーネームを全角のみで10文字入力すると10文字目が見切れてしまうのを修正
- 縦画面メニューを右寄せに変更
- 縦画面メニューリストから撮影だけ外に出す
- テキストチャットボタンに英語版画像を追加
- 縦画面撮影ボタンが英語に切り替わるように変更
- 友達招待ボタンクリック時にボタンがハイライトするように変更
- 縦画面・トーストメッセージのサイズを大きく変更、マウス移動用ターゲットとアバタープロフィール確認用のターゲットの色を変更
- ModelFileNameにAvatarTypeが入っておりマイアバター着用後にリロードするとdata/commonを読もうとしてビルドエラーになる問題を修正
- カメラモードの撮影後に表示されるプレビューの枠に操作説明のＵＩが被る不具合をZ値を下げて修正いたしました。
- 通知モーダルが開いている場合は、ヘリスクリプトのプレイヤークラスの操作不可能にする関数にて設定するように修正いたしました。
- 通知モーダルが開いている状態でも移動やジャンプができる不具合を修正しました。
- 共通トーストの表示時間を5秒に変更しました
- 機種によってエモートアイコンの見え方が異なる
- 縦画面のアクションパレットとエモート一覧をバーチャルスティックとチャットプレビュー欄に重ならないように修正
- HUDにクリックでのボタン色変更を追加。
- 通知モーダルのインゲームで、画像の設定なしのUIを実装しました。
- SSAOが動作しなくなっている
- コミュニティ縦画面のユーザーアイコンのサイズが大きい不具合を修正しました。
- コミュニティを表示させてからカメラを起動すると、招待・合流などのボタンが残ってしまう不具合を修正しました。
- 『スタート地点へ戻る』等のプレイヤー位置強制変更時に必ずクリック移動処理は停止するようにしました。
- 縦画面表示の場合、招待された際に表示されるシステムメッセージの「参加する」がリンクになっていない
- 他ユーザーを「フォロー」「フォロー解除」した際、すぐに更新されない
- バーチャルパッド入力時に二本指タッチの禁止処理が動かないようにする
- ブラウザを英語表示にしても「今後このメッセージを表示しない」が日本語になっていたのを英語のテキストを追加して修正しました。
- ボイスチャットチャンネル一覧の6個目に入っているチャンネルが表示されていない不具合を修正しました。
- SpaceListの表示数を修正しました。

### HeliScript
- PlayerクラスのResetVelocity関数を実装
- TimeSpan型の追加
- type=sceneのGetWorldPos/GetWorldRotateを実装しました。
- ActiviryのItemに対してSetShow()が効くようにした。
