# デバッグモード

Vket Cloud Settings / [BasicSettings](../VketCloudSettings/BasicSettings.md)にてデバッグモードを有効にすると、ワールドをビルドした際に様々な検証用機能が使えるようになります。<br>
デバッグモードが有効なとき、F2～F9キーでデバッグ機能を使うことが出来るようになります。

## デバッグモード：ステータス表示について

![DebugMode_9](./img/DebugMode_9.jpg)

デバッグモードを有効にすると、画面上部にステータスが表示されるようになります。

### 1行目

| 名称 | 機能 |
| ---- | ---- |
| FPS | 現在の1秒あたりのフレーム数です。 |
| DrawCall | 3Dモデル、GUIそれぞれのドローコール数です。 |

### 2行目

| 名称 | 機能 |
| ---- | ---- |
| VRAM | グラフィックスメモリの使用状況です。単位はMBです。|
| Total | 総使用メモリです。|
| Tex | テクスチャに使用しているメモリです。|
| Comp | 圧縮テクスチャに使用しているメモリです。|
| Text | テキスト表示に使用しているメモリです。|
| RT | RenderTargetに使用しているメモリです。|
| Etc | それ以外で使用しているメモリです。|

### 3行目

| 名称 | 機能 |
| ---- | ---- |
| GUI | GUIに使用しているメモリの使用状況です。|
| Total | 総使用メモリです。|
| Tex | テクスチャに使用しているメモリです。|
| Comp | 圧縮テクスチャに使用している目盛です。|
| Text | テキスト表示に使用しているメモリです。|

### 4行目

| 名称 | 機能 |
| ---- | ---- |
| Version | WebGLのバージョン情報です。|

### 5行目以降

コンポーネントテキストです。例として [HEOScript](../HEOComponents/HEOScript.md) にて [hsSystemWriteLine()](../hs/hs_system_function.md#hssystemwriteline)を実行するとここに出力されます。

## F2：インフォメーションUI表示

![DebugMode_F2_1](./img/DebugMode_F2_1.jpg)

各種情報を表示したり設定変更を行ったりできるUIを表示します。

### Main

ビデオメモリとドローコールについて表示します。

![DebugMode_F2_2](./img/DebugMode_F2_2.jpg)

### Sprite

![DebugMode_F2_3](./img/DebugMode_F2_3.jpg)

画面のUI情報について一覧で表示します。  <br>
名前や種別、所属レイヤーや位置、大きさの情報を確認することができます。<br>
文字がグレーになっているのは非アクティブなUIです。

一覧から好きな項目をクリックすることで、ゲーム画面でのそのUIのある位置をアクティブ・非アクティブ問わず黄色ハイライトで強調表示します。

### Texture

![DebugMode_F2_4](./img/DebugMode_F2_4.jpg)

シーン内で使われているテクスチャの一覧を表示します。<br>
どこで使われているか、大きさはいくつか、ということについても確認可能です。

### Rendering

![DebugMode_F2_5](./img/DebugMode_F2_5.jpg)

レンダリング設定を調整するUIを表示します。

#### Lighting

ライトの強さとライトマップの強さを変更できます。

#### Shadow

動的影の設定を変更できます。<br>
各パラメータの定義は[RenderingSettings / Shadow](../VketCloudSettings/RenderingSettings.md)をご覧ください。

#### LightScattering

各パラメータゲージを操作することで色合いを変更することができます。<br>
Useにチェックが入っている間だけ適用状態となります。<br>  
再度Useをクリックするとライトスキャタリング設定未適用状態に戻ります。

ライトスキャタリング設定については[こちら](../VketCloudSettings/RenderingSettings.md)をご確認ください。

設定適用例：

![DebugMode_F2_6](./img/DebugMode_F2_6.jpg)

#### Lens

カメラフィルターです。  

Film：彩度の上がった映像になります。  
![DebugMode_Camera_1](./img/DebugMode_Camera_1.jpg)

Mono : 白黒映像になります。
![DebugMode_Camera_2](./img/DebugMode_Camera_2.jpg)

Sepia : セピア調になります。
![DebugMode_Camera_3](./img/DebugMode_Camera_3.jpg)

### Script

![DebugMode_F2_7](./img/DebugMode_F2_7.jpg)

スクリプト情報を表示します。

#### 表示情報について

| 名称 | 機能 |
| ---- | ---- |
| ページカウント | いま生きているオブジェクトの数 (0以上の値になっているはず) |
| ローカルフレームカウント | 関数フレームのスタック状態 (0であるはず。そうでなければ異常)  |
| オペランドスタックカウント | 演算用スタックに積まれている要素数 (0であるはず。そうでなければ異常) |

## F3：当たり判定表示

![DebugMode_3](./img/DebugMode_3.jpg)

![DebugMode_3_Append](./img/DebugMode_3_Append.jpg)

ワールド内の当たり判定を表示します。<br>
SphereColliderは円形モデル表示、BoxColliderは枠線表示になります。

※Mesh Rendererを無効にした状態でHEOObjectに書き出したクリック判定は表示されません。

各色の役割は下記の通りです。

| 名称 | 機能 |
| ---- | ---- |
| 赤　|　クリック判定です。|
| 紫　|　Fieldオブジェクト設置位置です。基本は(0,0,0)の原点に表示され、HEOActivityを設置している場合はそれの座標にも表示されます。<br>扱い上はBoxColliderと同様ですが、例外的に枠線ではなく紫色のモデル表示となっています。|
| 橙　|　プレイヤーのクリック判定です。 |
| 黄　|　エリアコライダーです。  |
| 緑　|　ReflectionProbeの範囲です。|

## F4：オクルージョンカリング

![DebugMode_4](./img/DebugMode_4.jpg)

ドローコール情報の隣に「OC」の表記が出ます。<br>
再度F4を押すと消えます。<br>
「OC」表示がされている間のみ、オクルージョンカリング機能が有効になります。

オクルージョンカリング機能を使うためには別途準備が必要です。<br>
詳しくは[こちら](../WorldOptimization/OcclusionCulling.md)をご確認ください。

## F5：Script情報表示

![DebugMode_5](./img/DebugMode_5.jpg)

Script情報を表示します。<br>
ページカウント、ローカルフレームカウント、オペランドスタックカウントの3種類を表示します。

F2で表示されるウィンドウのScriptタブと同様です。

### F5：表示情報について

| 名称 | 機能 |
| ---- | ---- |
| ページカウント | いま生きているオブジェクトの数 (0以上の値になっているはず) |
| ローカルフレームカウント | 関数フレームのスタック状態 (0であるはず。そうでなければ異常)  |
| オペランドスタックカウント | 演算用スタックに積まれている要素数 (0であるはず。そうでなければ異常) |

## F6：当たり判定無視

![DebugMode_6](./img/DebugMode_6.jpg)

当たり判定を無視して移動できるようになります。<br>
ジャンプ機能が使えなくなるかわりに、Rキーで上方に、Fキーで下方に動くことができます。

しかし、エリアコライダーの侵入退出は発生します。

直前の上下移動の加速度を記憶しており、ジャンプした瞬間にF6を押した場合、<br>
解除時にジャンプが実行されます。

また、上下方向の移動時のイージング（加減速変化）は発生しません。

## F7：GUI情報表示

![DebugMode_7](./img/DebugMode_7.jpg)

Image、Text、Buttonについて表示状況や座標等の情報を確認することができます。

| 名称 | 内容 |
| ---- | ---- |
| Name | GUIの名称です。|
| Show | 表示状態をShow/hideで示します。 |
| Pos | 座標です。 |
| Z | 表示優先度です。 |
| Size | 大きさです。 |
| Pivot | 中心点です。 |
| Anchor | アンカーの情報です。 |

## F8：ステータス非表示

画面上部のステータスを非表示にします。

## F9：UI非表示

![DebugMode_1](./img/DebugMode_1.jpg)

画面上に表示されるステータス以外のUIをすべて非表示にすることができます。再度F9を押すことでUIを表示します。<br>
ワールド内のイメージのスクリーンショットを撮影する際に便利です。

なお、本機能はデバッグモードを作動していない状態でも機能するようになっております。<br>
ただし、カメラUIを消すことはできません。

!!! note "UI非表示キーについて"
    Ver9.0以前のSDKでは**F1**キーが割り当てられていましたが、現バージョンではF9で使用できます。
